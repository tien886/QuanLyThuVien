<UserControl x:Class="QuanLyThuVien.Views.QuanLyDanhMucView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
             xmlns:local="clr-namespace:QuanLyThuVien.Views"
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="1000">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>


        <TabControl Grid.Row="1" Style="{StaticResource ModernTabControlStyle}">

            <TabItem Header="Phân loại sách" Style="{StaticResource ModernTabItemStyle}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Phân loại sách" FontSize="18" FontWeight="Bold"/>
                            <TextBlock Text="Quản lý nhóm sách (Sách tham khảo, Giáo trình...)" 
                                       Foreground="{StaticResource TitleOfWindow}" Margin="0,5,0,0"/>
                        </StackPanel>

                        <Button Style="{StaticResource RoundedButton}" HorizontalAlignment="Right" VerticalAlignment="Top"
                                Command="{Binding OpenAddGenrePopupCommand}">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="Plus" Style="{StaticResource RoundedButtonIcon}"/>
                                <TextBlock Text="Thêm phân loại" Style="{StaticResource RoundedButtonText}"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <DataGrid Grid.Row="1" ItemsSource="{Binding GenreList}" Style="{StaticResource RoundedDataGrid}"
                              AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Mã" 
                                                Binding="{Binding GenreID}" 
                                                Width="120" 
                                                ElementStyle="{StaticResource CellTextCenter}"/>
                            <DataGridTextColumn Header="Tên phân loại" 
                                                Binding="{Binding GenreName}" 
                                                Width="*" 
                                                ElementStyle="{StaticResource CellTextLeft}"
                                                HeaderStyle="{StaticResource LeftAlignDataGridHeader}"/>
                            <DataGridTextColumn Header="Số ngày mượn" 
                                                Binding="{Binding LoanDurationDays}" 
                                                Width="200" 
                                                ElementStyle="{StaticResource CellTextCenter}"/>

                            <DataGridTemplateColumn Header="Thao tác" Width="200">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                            <Button Style="{StaticResource CircularIconButton}" 
                                                    Command="{Binding DataContext.OpenEditGenrePopupCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                                    CommandParameter="{Binding}">
                                                <fa:IconImage Icon="PenToSquare" Width="14" Height="14" Foreground="{StaticResource TitleOfWindow}"/>
                                            </Button>
                                            <Button Style="{StaticResource CircularIconButton}" Margin="5,0,0,0"
                                                    Command="{Binding DataContext.DeleteGenreCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                                    CommandParameter="{Binding}">
                                                <fa:IconImage Icon="TrashCan" Width="14" Height="14" Foreground="{StaticResource Danger/Overdue}"/>
                                            </Button>
                                        </StackPanel>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header="Thể loại sách" Style="{StaticResource ModernTabItemStyle}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Thể loại sách" FontSize="18" FontWeight="Bold"/>
                            <TextBlock Text="Quản lý các thể loại sách (Lập trình, Tiểu thuyết, Khoa học...)" Foreground="{StaticResource TitleOfWindow}" Margin="0,5,0,0"/>
                        </StackPanel>
                        <Button Style="{StaticResource RoundedButton}" HorizontalAlignment="Right" VerticalAlignment="Top"
                                Command="{Binding OpenAddCategoryPopupCommand}">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="Plus" Style="{StaticResource RoundedButtonIcon}"/>
                                <TextBlock Text="Thêm thể loại" Style="{StaticResource RoundedButtonText}"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <DataGrid Grid.Row="1" ItemsSource="{Binding CategoryList}" Style="{StaticResource RoundedDataGrid}"
                              AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Mã" 
                                                Binding="{Binding CategoryID}" 
                                                Width="120" 
                                                ElementStyle="{StaticResource CellTextCenter}"/>
                            <DataGridTextColumn Header="Tên thể loại" 
                                                Binding="{Binding CategoryName}" 
                                                Width="*" 
                                                ElementStyle="{StaticResource CellTextLeft}"
                                                HeaderStyle="{StaticResource LeftAlignDataGridHeader}"/>

                            <DataGridTemplateColumn Header="Thao tác" Width="200">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                            <Button Style="{StaticResource CircularIconButton}" 
                                                    Command="{Binding DataContext.OpenEditCategoryPopupCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                                    CommandParameter="{Binding}">
                                                <fa:IconImage Icon="PenToSquare" Width="14" Height="14" Foreground="{StaticResource TitleOfWindow}"/>
                                            </Button>
                                            <Button Style="{StaticResource CircularIconButton}" Margin="5,0,0,0"
                                                    Command="{Binding DataContext.DeleteCategoryCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                                    CommandParameter="{Binding}">
                                                <fa:IconImage Icon="TrashCan" Width="14" Height="14" Foreground="{StaticResource Danger/Overdue}"/>
                                            </Button>
                                        </StackPanel>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header="Khoa" Style="{StaticResource ModernTabItemStyle}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="39*"/>
                        <ColumnDefinition Width="955*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" Margin="0,0,0,15" Grid.ColumnSpan="2">
                        <StackPanel>
                            <TextBlock Text="Danh sách khoa" FontSize="18" FontWeight="Bold"/>
                            <TextBlock Text="Quản lý các khoa trong trường" Foreground="{StaticResource TitleOfWindow}" Margin="0,5,0,0"/>
                        </StackPanel>
                        <Button Style="{StaticResource RoundedButton}" HorizontalAlignment="Right" VerticalAlignment="Top"
                                Command="{Binding OpenAddFacultyPopupCommand}">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="Plus" Style="{StaticResource RoundedButtonIcon}"/>
                                <TextBlock Text="Thêm khoa" Style="{StaticResource RoundedButtonText}"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <DataGrid Grid.Row="1" ItemsSource="{Binding FacultyList}" 
                              Style="{StaticResource RoundedDataGrid}"
                              AutoGenerateColumns="False" IsReadOnly="True" 
                              CanUserAddRows="False" 
                              Grid.ColumnSpan="2">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Mã" 
                                                Binding="{Binding FacultyID}" 
                                                Width="120" 
                                                ElementStyle="{StaticResource CellTextCenter}"/>
                            <DataGridTextColumn Header="Tên khoa" 
                                                Binding="{Binding FacultyName}" 
                                                Width="*" 
                                                ElementStyle="{StaticResource CellTextLeft}"
                                                HeaderStyle="{StaticResource LeftAlignDataGridHeader}"/>

                            <DataGridTemplateColumn Header="Thao tác" Width="200">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                            <Button Style="{StaticResource CircularIconButton}" 
                                                    Command="{Binding DataContext.OpenEditFacultyPopupCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                                    CommandParameter="{Binding}">
                                                <fa:IconImage Icon="PenToSquare" Width="14" Height="14" Foreground="{StaticResource TitleOfWindow}"/>
                                            </Button>
                                            <Button Style="{StaticResource CircularIconButton}" Margin="5,0,0,0"
                                                    Command="{Binding DataContext.DeleteFacultyCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                                    CommandParameter="{Binding}">
                                                <fa:IconImage Icon="TrashCan" Width="14" Height="14" Foreground="{StaticResource Danger/Overdue}"/>
                                            </Button>
                                        </StackPanel>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

        </TabControl>
    </Grid>
</UserControl>